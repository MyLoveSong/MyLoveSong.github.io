<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="page-type" content="blog">
    <title>æˆ‘çš„åšå®¢ - è½»é‡çº§Markdownåšå®¢ç³»ç»Ÿ</title>
    <meta name="description" content="ä¸€ä¸ªåŠŸèƒ½å®Œæ•´ã€æ€§èƒ½ä¼˜å¼‚çš„è½»é‡çº§Markdownåšå®¢ç³»ç»Ÿï¼Œæ”¯æŒåŠ¨æ€å†…å®¹æ¸²æŸ“ã€æœç´¢åŠŸèƒ½ã€ä¸»é¢˜åˆ‡æ¢ç­‰é«˜çº§ç‰¹æ€§">
    <meta name="keywords" content="åšå®¢,Markdown,JavaScript,Webå¼€å‘,å‰ç«¯æŠ€æœ¯,å“åº”å¼è®¾è®¡">
    <meta name="author" content="åšå®¢ç³»ç»Ÿå¼€å‘è€…">
    
    <!-- Open Graph å…ƒæ•°æ® -->
    <meta property="og:title" content="æˆ‘çš„åšå®¢ - è½»é‡çº§Markdownåšå®¢ç³»ç»Ÿ">
    <meta property="og:description" content="ä¸€ä¸ªåŠŸèƒ½å®Œæ•´ã€æ€§èƒ½ä¼˜å¼‚çš„è½»é‡çº§Markdownåšå®¢ç³»ç»Ÿ">
    <meta property="og:type" content="website">
    <meta property="og:url" content="">
    <meta property="og:image" content="images/logo.png">
    
    <!-- Twitter Card å…ƒæ•°æ® -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="æˆ‘çš„åšå®¢ - è½»é‡çº§Markdownåšå®¢ç³»ç»Ÿ">
    <meta name="twitter:description" content="ä¸€ä¸ªåŠŸèƒ½å®Œæ•´ã€æ€§èƒ½ä¼˜å¼‚çš„è½»é‡çº§Markdownåšå®¢ç³»ç»Ÿ">
    <meta name="twitter:image" content="images/logo.png">
    
    <!-- æ ·å¼æ–‡ä»¶ -->
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/layout.css">
    <link rel="stylesheet" href="css/typography.css">
    <link rel="stylesheet" href="css/blog.css">
    
    <!-- å›¾æ ‡ -->
    <link rel="icon" href="images/logo.ico" type="image/x-icon">
    <link rel="apple-touch-icon" href="images/logo.png">
    
    <!-- é¢„åŠ è½½å…³é”®èµ„æº -->
    <link rel="preload" href="js/blog-system.js" as="script">
    <link rel="preload" href="css/blog.css" as="style">
    <link rel="preload" href="posts/welcome.md" as="fetch" crossorigin>
    
    <!-- DNS é¢„è§£æ -->
    <link rel="dns-prefetch" href="//cdn.jsdelivr.net">
    <link rel="dns-prefetch" href="//cdnjs.cloudflare.com">
    
    <!-- ç»“æ„åŒ–æ•°æ® -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Blog",
        "name": "æˆ‘çš„åšå®¢",
        "description": "ä¸€ä¸ªåŠŸèƒ½å®Œæ•´ã€æ€§èƒ½ä¼˜å¼‚çš„è½»é‡çº§Markdownåšå®¢ç³»ç»Ÿ",
        "url": "",
        "author": {
            "@type": "Person",
            "name": "åšå®¢ç³»ç»Ÿå¼€å‘è€…"
        },
        "publisher": {
            "@type": "Organization",
            "name": "å”±ç‰‡å…¬å¸"
        }
    }
    </script>
</head>
<body>
    <!-- é¡µé¢å¤´éƒ¨ -->
    <header class="site-header">
        <nav class="main-navigation">
            <div class="nav-container">
                <div class="logo">
                    <a href="index.html" aria-label="è¿”å›é¦–é¡µ">
                        <img src="images/logo.png" alt="å”±ç‰‡å…¬å¸" class="logo-image">
                        <span class="logo-text">å”±ç‰‡å…¬å¸</span>
                    </a>
                </div>
                
                <ul class="nav-menu">
                    <li><a href="index.html">é¦–é¡µ</a></li>
                    <li><a href="about.html">å…³äºæˆ‘ä»¬</a></li>
                    <li><a href="products.html">äº§å“æœåŠ¡</a></li>
                    <li><a href="services.html">æœåŠ¡é¡¹ç›®</a></li>
                    <li><a href="contact.html">è”ç³»æˆ‘ä»¬</a></li>
                    <li class="active"><a href="blog.html" aria-current="page">æˆ‘çš„åšå®¢</a></li>
                </ul>
                
                <div class="nav-toggle" aria-label="åˆ‡æ¢å¯¼èˆªèœå•">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
        </nav>
    </header>

    <!-- ä¸»è¦å†…å®¹ -->
    <main class="main-content">
        <!-- åšå®¢ç³»ç»Ÿå®¹å™¨ -->
        <div id="blog-container">
            <!-- åšå®¢ç³»ç»Ÿå°†åœ¨è¿™é‡ŒåŠ¨æ€æ¸²æŸ“ -->
        </div>
    </main>

    <!-- é¡µé¢åº•éƒ¨ -->
    <footer class="site-footer">
        <div class="footer-content">
            <div class="footer-section">
                <h3>å…³äºæˆ‘ä»¬</h3>
                <p>ä¸“ä¸šçš„éŸ³ä¹åˆ¶ä½œå’Œå”±ç‰‡å‘è¡Œå…¬å¸ï¼Œè‡´åŠ›äºä¸ºéŸ³ä¹äººæä¾›å…¨æ–¹ä½çš„æ”¯æŒå’ŒæœåŠ¡ã€‚</p>
            </div>
            
            <div class="footer-section">
                <h3>å¿«é€Ÿé“¾æ¥</h3>
                <ul>
                    <li><a href="index.html">é¦–é¡µ</a></li>
                    <li><a href="about.html">å…³äºæˆ‘ä»¬</a></li>
                    <li><a href="products.html">äº§å“æœåŠ¡</a></li>
                    <li><a href="services.html">æœåŠ¡é¡¹ç›®</a></li>
                    <li><a href="contact.html">è”ç³»æˆ‘ä»¬</a></li>
                    <li><a href="blog.html">æˆ‘çš„åšå®¢</a></li>
                </ul>
            </div>
            
            <div class="footer-section">
                <h3>è”ç³»æ–¹å¼</h3>
                <p>ğŸ“§ info@recordcompany.com</p>
                <p>ğŸ“ +86 123 4567 8900</p>
                <p>ğŸ“ åŒ—äº¬å¸‚æœé˜³åŒºéŸ³ä¹å¤§é“123å·</p>
            </div>
            
            <div class="footer-section">
                <h3>å…³æ³¨æˆ‘ä»¬</h3>
                <div class="social-links">
                    <a href="#" class="social-link" aria-label="éŸ³ä¹å¹³å°">ğŸµ éŸ³ä¹å¹³å°</a>
                    <a href="#" class="social-link" aria-label="å¾®ä¿¡">ğŸ“± å¾®ä¿¡</a>
                    <a href="#" class="social-link" aria-label="å¾®åš">ğŸ¦ å¾®åš</a>
                </div>
            </div>
        </div>
        
        <div class="footer-bottom">
            <p>&copy; 2024 å”±ç‰‡å…¬å¸. ä¿ç•™æ‰€æœ‰æƒåˆ©. | 
               <a href="privacy-policy.html">éšç§æ”¿ç­–</a> | 
               <a href="terms-of-use.html">ä½¿ç”¨æ¡æ¬¾</a>
            </p>
        </div>
    </footer>

    <!-- è¿”å›é¡¶éƒ¨æŒ‰é’® -->
    <button id="back-to-top" class="back-to-top" title="è¿”å›é¡¶éƒ¨" aria-label="è¿”å›é¡¶éƒ¨">
        â†‘
    </button>

    <!-- åŠ è½½æŒ‡ç¤ºå™¨ -->
    <div id="loading-indicator" class="loading-indicator">
        <div class="loading-spinner"></div>
        <p>æ­£åœ¨åŠ è½½åšå®¢ç³»ç»Ÿ...</p>
    </div>

    <!-- JavaScriptæ–‡ä»¶ -->
    <script src="js/blog-system.js"></script>
    
    <!-- é¡µé¢ç‰¹å®šçš„JavaScript -->
    <script>
        // é¡µé¢åŠ è½½å®Œæˆåçš„åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            console.log('ğŸš€ åšå®¢é¡µé¢åŠ è½½å®Œæˆ');
            
            // åˆå§‹åŒ–åšå®¢ç³»ç»Ÿ
            let blogSystem;
            try {
                if (typeof OptimizedBlogSystem !== 'undefined') {
                    blogSystem = new OptimizedBlogSystem();
                    window.blogSystem = blogSystem;
                    console.log('âœ… åšå®¢ç³»ç»Ÿåˆå§‹åŒ–æˆåŠŸ');
                } else {
                    console.error('âŒ OptimizedBlogSystem ç±»æœªå®šä¹‰');
                    throw new Error('åšå®¢ç³»ç»Ÿç±»æœªæ‰¾åˆ°');
                }
            } catch (error) {
                console.error('âŒ åšå®¢ç³»ç»Ÿåˆå§‹åŒ–å¤±è´¥:', error);
                // æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯
                const blogContainer = document.getElementById('blog-container');
                if (blogContainer) {
                    blogContainer.innerHTML = `
                        <div class="error-message">
                            <h3>âŒ åšå®¢ç³»ç»Ÿåˆå§‹åŒ–å¤±è´¥</h3>
                            <p>å¾ˆæŠ±æ­‰ï¼Œåšå®¢ç³»ç»Ÿé‡åˆ°äº†ä¸€ä¸ªé”™è¯¯ã€‚è¯·åˆ·æ–°é¡µé¢é‡è¯•ã€‚</p>
                            <button onclick="location.reload()" class="btn-primary">åˆ·æ–°é¡µé¢</button>
                        </div>
                    `;
                }
                return;
            }
            
            // éšè—åŠ è½½æŒ‡ç¤ºå™¨
            const loadingIndicator = document.getElementById('loading-indicator');
            if (loadingIndicator) {
                setTimeout(() => {
                    loadingIndicator.style.opacity = '0';
                    setTimeout(() => {
                        loadingIndicator.style.display = 'none';
                    }, 300);
                }, 1000);
            }
            
            // å¯¼èˆªèœå•åˆ‡æ¢
            const navToggle = document.querySelector('.nav-toggle');
            const navMenu = document.querySelector('.nav-menu');
            
            if (navToggle && navMenu) {
                navToggle.addEventListener('click', function() {
                    navMenu.classList.toggle('active');
                    navToggle.classList.toggle('active');
                    
                    // æ›´æ–°aria-expandedå±æ€§
                    const isExpanded = navMenu.classList.contains('active');
                    navToggle.setAttribute('aria-expanded', isExpanded);
                });
            }
            
            // è¿”å›é¡¶éƒ¨åŠŸèƒ½
            const backToTopBtn = document.getElementById('back-to-top');
            if (backToTopBtn) {
                window.addEventListener('scroll', function() {
                    if (window.pageYOffset > 300) {
                        backToTopBtn.style.display = 'block';
                        backToTopBtn.setAttribute('aria-hidden', 'false');
                    } else {
                        backToTopBtn.style.display = 'none';
                        backToTopBtn.setAttribute('aria-hidden', 'true');
                    }
                });
                
                backToTopBtn.addEventListener('click', function() {
                    window.scrollTo({
                        top: 0,
                        behavior: 'smooth'
                    });
                });
            }
            
            // å¹³æ»‘æ»šåŠ¨
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });
            
            // é”®ç›˜å¯¼èˆªæ”¯æŒ
            document.addEventListener('keydown', function(e) {
                // ESCé”®å…³é—­å¯¼èˆªèœå•
                if (e.key === 'Escape') {
                    if (navMenu && navMenu.classList.contains('active')) {
                        navMenu.classList.remove('active');
                        navToggle.classList.remove('active');
                        navToggle.setAttribute('aria-expanded', 'false');
                    }
                }
                
                // Alt + M æ‰“å¼€/å…³é—­å¯¼èˆªèœå•
                if (e.altKey && e.key === 'm') {
                    e.preventDefault();
                    if (navToggle) {
                        navToggle.click();
                    }
                }
            });
            
            // å¤„ç†URLå“ˆå¸Œå˜åŒ–
            window.addEventListener('hashchange', function() {
                const hash = window.location.hash;
                if (hash.startsWith('#post/')) {
                    const filename = hash.replace('#post/', '');
                    if (window.blogSystem) {
                        window.blogSystem.showPost(filename);
                    }
                }
            });
            
            // åˆå§‹å¤„ç†URLå“ˆå¸Œ
            if (window.location.hash.startsWith('#post/')) {
                const filename = window.location.hash.replace('#post/', '');
                setTimeout(() => {
                    if (window.blogSystem) {
                        window.blogSystem.showPost(filename);
                    }
                }, 1000);
            }
        });
        
        // é¡µé¢å¯è§æ€§å˜åŒ–æ—¶çš„å¤„ç†
        document.addEventListener('visibilitychange', function() {
            if (document.hidden) {
                document.title = 'åˆ«èµ°å‘€ï¼Œå¿«å›æ¥ï¼ - æˆ‘çš„åšå®¢';
            } else {
                document.title = 'æˆ‘çš„åšå®¢ - è½»é‡çº§Markdownåšå®¢ç³»ç»Ÿ';
            }
        });
        
        // é”™è¯¯å¤„ç†
        window.addEventListener('error', function(e) {
            console.error('é¡µé¢é”™è¯¯:', e.error);
            
            // æ˜¾ç¤ºç”¨æˆ·å‹å¥½çš„é”™è¯¯æ¶ˆæ¯
            const errorMessage = document.createElement('div');
            errorMessage.className = 'error-message';
            errorMessage.innerHTML = `
                <div class="error-content">
                    <h3>âŒ é¡µé¢å‡ºç°é”™è¯¯</h3>
                    <p>å¾ˆæŠ±æ­‰ï¼Œé¡µé¢é‡åˆ°äº†ä¸€ä¸ªé”™è¯¯ã€‚è¯·åˆ·æ–°é¡µé¢é‡è¯•ã€‚</p>
                    <button onclick="location.reload()" class="btn-primary">åˆ·æ–°é¡µé¢</button>
                </div>
            `;
            document.body.appendChild(errorMessage);
        });
        
        // æœªå¤„ç†çš„Promiseæ‹’ç»
        window.addEventListener('unhandledrejection', function(e) {
            console.error('æœªå¤„ç†çš„Promiseæ‹’ç»:', e.reason);
        });
        
        // ç½‘ç»œçŠ¶æ€ç›‘æ§
        window.addEventListener('online', function() {
            console.log('ç½‘ç»œè¿æ¥å·²æ¢å¤');
            if (window.blogSystem) {
                window.blogSystem.showNotification('ç½‘ç»œè¿æ¥å·²æ¢å¤', 'success');
            }
        });
        
        window.addEventListener('offline', function() {
            console.log('ç½‘ç»œè¿æ¥å·²æ–­å¼€');
            if (window.blogSystem) {
                window.blogSystem.showNotification('ç½‘ç»œè¿æ¥å·²æ–­å¼€ï¼Œéƒ¨åˆ†åŠŸèƒ½å¯èƒ½å—é™', 'warning');
            }
        });
    </script>
    
    <!-- æ€§èƒ½ç›‘æ§ -->
    <script>
        // é¡µé¢æ€§èƒ½ç›‘æ§
        window.addEventListener('load', function() {
            setTimeout(function() {
                const perfData = performance.getEntriesByType('navigation')[0];
                if (perfData) {
                    const metrics = {
                        'DOMå†…å®¹åŠ è½½æ—¶é—´': Math.round(perfData.domContentLoadedEventEnd - perfData.domContentLoadedEventStart) + 'ms',
                        'é¡µé¢å®Œå…¨åŠ è½½æ—¶é—´': Math.round(perfData.loadEventEnd - perfData.loadEventStart) + 'ms',
                        'æ€»åŠ è½½æ—¶é—´': Math.round(perfData.loadEventEnd - perfData.navigationStart) + 'ms',
                        'é¦–æ¬¡å†…å®¹ç»˜åˆ¶': Math.round(perfData.domContentLoadedEventStart - perfData.navigationStart) + 'ms'
                    };
                    
                    console.log('ğŸ“Š é¡µé¢æ€§èƒ½æ•°æ®:', metrics);
                    
                    // å¦‚æœåŠ è½½æ—¶é—´è¿‡é•¿ï¼Œè®°å½•è­¦å‘Š
                    if (metrics['æ€»åŠ è½½æ—¶é—´'] > 3000) {
                        console.warn('âš ï¸ é¡µé¢åŠ è½½æ—¶é—´è¾ƒé•¿ï¼Œå»ºè®®ä¼˜åŒ–');
                    }
                }
                
                // ç›‘æ§èµ„æºåŠ è½½
                const resources = performance.getEntriesByType('resource');
                const slowResources = resources.filter(resource => resource.duration > 1000);
                if (slowResources.length > 0) {
                    console.warn('âš ï¸ å‘ç°åŠ è½½ç¼“æ…¢çš„èµ„æº:', slowResources.map(r => r.name));
                }
            }, 0);
        });
        
        // ç›‘æ§ç”¨æˆ·äº¤äº’
        let interactionCount = 0;
        const interactionEvents = ['click', 'scroll', 'keydown', 'touchstart'];
        
        interactionEvents.forEach(eventType => {
            document.addEventListener(eventType, function() {
                interactionCount++;
                if (interactionCount === 1) {
                    console.log('ğŸ‘† ç”¨æˆ·å¼€å§‹ä¸é¡µé¢äº¤äº’');
                }
            }, { once: true });
        });
        
        // ç›‘æ§é¡µé¢å¯è§æ€§
        let visibilityChangeCount = 0;
        document.addEventListener('visibilitychange', function() {
            visibilityChangeCount++;
            console.log(`ğŸ‘ï¸ é¡µé¢å¯è§æ€§å˜åŒ– (ç¬¬${visibilityChangeCount}æ¬¡):`, document.hidden ? 'éšè—' : 'æ˜¾ç¤º');
        });
    </script>
    
    <!-- Service Worker æ³¨å†Œ -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('/sw.js')
                    .then(function(registration) {
                        console.log('âœ… Service Worker æ³¨å†ŒæˆåŠŸ:', registration.scope);
                    })
                    .catch(function(error) {
                        console.log('âš ï¸ Service Worker æ³¨å†Œå¤±è´¥:', error);
                    });
            });
        }
    </script>
    
    <!-- ç»“æ„åŒ–æ•°æ®æ›´æ–° -->
    <script>
        // åŠ¨æ€æ›´æ–°ç»“æ„åŒ–æ•°æ®
        function updateStructuredData() {
            if (window.blogSystem && window.blogSystem.currentPost) {
                const post = window.blogSystem.currentPost;
                const structuredData = {
                    "@context": "https://schema.org",
                    "@type": "BlogPosting",
                    "headline": post.title,
                    "description": post.content.substring(0, 200) + '...',
                    "datePublished": post.date,
                    "author": {
                        "@type": "Person",
                        "name": post.metadata.author || "åšå®¢ç³»ç»Ÿå¼€å‘è€…"
                    },
                    "publisher": {
                        "@type": "Organization",
                        "name": "å”±ç‰‡å…¬å¸"
                    },
                    "wordCount": post.wordCount,
                    "timeRequired": "PT" + post.readingTime + "M"
                };
                
                // æ›´æ–°æˆ–åˆ›å»ºç»“æ„åŒ–æ•°æ®è„šæœ¬
                let script = document.querySelector('script[type="application/ld+json"]');
                if (script) {
                    script.textContent = JSON.stringify(structuredData);
                } else {
                    script = document.createElement('script');
                    script.type = 'application/ld+json';
                    script.textContent = JSON.stringify(structuredData);
                    document.head.appendChild(script);
                }
            }
        }
        
        // ç›‘å¬åšå®¢ç³»ç»ŸçŠ¶æ€å˜åŒ–
        const originalShowPost = window.blogSystem?.showPost;
        if (originalShowPost) {
            window.blogSystem.showPost = function(filename) {
                originalShowPost.call(this, filename);
                setTimeout(updateStructuredData, 100);
            };
        }
    </script>
</body>
</html>
