# 🔧 用户配置指南

## 🎯 配置目的

本网站默认使用未认证的GitHub API，每小时限流60次。如果您想要：
- 获得更高的API限流（5000次/小时）
- 避免API限流错误
- 获得更好的用户体验

可以按照以下步骤配置您的GitHub Personal Access Token。

## 📋 配置步骤

### 步骤1：创建GitHub Personal Access Token

1. **访问GitHub设置**
   - 打开 [GitHub Settings](https://github.com/settings/tokens)
   - 点击左侧菜单的 "Developer settings"
   - 选择 "Personal access tokens" > "Tokens (classic)"

2. **生成新Token**
   - 点击 "Generate new token (classic)"
   - 设置Token名称：`音乐网站API访问`
   - 选择过期时间：建议90天或更长

3. **选择权限**
   - ✅ `public_repo` (读取公开仓库)
   - ✅ `read:user` (读取用户信息)
   - ❌ 其他权限不需要选择

4. **生成并复制Token**
   - 点击 "Generate token"
   - **立即复制Token**（只显示一次，请妥善保存）

### 步骤2：配置Token到网站

**方法1：修改配置文件（推荐）**

1. 打开 `js/project-manager.js` 文件
2. 找到以下代码：
```javascript
window.GITHUB_API_CONFIG = {
    baseUrl: 'https://api.github.com',
    username: 'MyLoveSong',
    perPage: 50,
    token: '', // 在这里填入您的Token
    useAuth: false, // 改为true
    // ... 其他配置
};
```

3. 修改为：
```javascript
window.GITHUB_API_CONFIG = {
    baseUrl: 'https://api.github.com',
    username: 'MyLoveSong',
    perPage: 50,
    token: '', // 请在此处填入您的GitHub Personal Access Token
    useAuth: true, // 改为true启用认证
    // ... 其他配置
};
```

**方法2：使用环境变量**

1. 设置环境变量：
```bash
# Windows
set GITHUB_TOKEN=YOUR_TOKEN_HERE

# macOS/Linux
export GITHUB_TOKEN=YOUR_TOKEN_HERE
```

2. 在代码中使用：
```javascript
token: process.env.GITHUB_TOKEN || '',
```

### 步骤3：测试配置

1. 打开 `test-github-api-fixed.html`
2. 输入您的Token
3. 点击"测试连接"
4. 查看测试结果

## ✅ 配置验证

配置成功后，您应该看到：

- ✅ 连接成功
- ✅ 用户信息获取成功
- ✅ 仓库列表获取成功
- ✅ API限流显示5000次/小时
- ✅ 不再出现401认证错误

## 🔒 安全注意事项

### ⚠️ 重要提醒

- **不要**将Token提交到Git仓库
- **不要**在公开场合分享您的Token
- **不要**将Token硬编码到代码中
- **定期更新**Token（建议90天）

### 🛡️ 安全最佳实践

1. **使用最小权限**：只选择必要的权限
2. **设置过期时间**：不要设置为"永不过期"
3. **定期轮换**：定期生成新的Token
4. **监控使用**：定期检查Token的使用情况

## 🚨 故障排除

### 问题1：401认证错误

**原因**：Token无效或已过期
**解决**：
1. 检查Token是否正确复制
2. 确认Token是否已过期
3. 重新生成Token

### 问题2：403限流错误

**原因**：API限流已达到
**解决**：
1. 等待限流重置
2. 使用认证Token获得更高限流

### 问题3：404用户不存在

**原因**：用户名错误
**解决**：
1. 检查用户名是否正确
2. 确认用户存在且为公开用户

## 📞 获取帮助

如果遇到问题，可以：

1. 查看浏览器控制台错误信息
2. 使用测试页面诊断问题
3. 检查网络连接
4. 确认Token权限设置

## 🎉 配置完成

配置完成后，您就可以享受：
- 🚀 更快的API响应
- 📊 更高的限流
- 🎯 更好的用户体验
- 🔄 自动重试机制
- 💾 智能缓存系统

---

**祝您使用愉快！** 🎵✨
